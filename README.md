# Инструкция по использованию реле (тестер форсунок)

## Назначение
Данное устройство позволяет управлять режимами реле с помощью одной кнопки, перебирая все возможные комбинации интервалов включения и выключения, для тестирования форсунок.

## Подключение оборудования
Необходимые компоненты:  
Arduino (Uno, Nano, Mega и т.д.)  
Релейный модуль  
Кнопка  
Провода  

## Схема подключения:
Реле:  
GND → GND Arduino  
IN  → Pin D13 Arduino

Кнопка:  
  Один контакт → Pin D3 Arduino  
  Второй контакт → GND Arduino  

## Текущие настройки в коде:
```
// Интервалы включения (миллисекунды) - время ВКЛЮЧЕННОГО состояния
const int intervals_on[] = {2, 4, 6};

// Интервалы выключения (миллисекунды) - время ВЫКЛЮЧЕННОГО состояния  
const int intervals_off[] = {10, 20, 30, 40};
```

## Управление

**Основные действия:**  
Нажатие кнопки - переход к следующей комбинации интервалов  
Автоматическая работа - реле работает с текущими настройками  

**Последовательность перебора:**  
Система перебирает ВСЕ комбинации по порядку:  
Сначала фиксируется один интервал включения (intervals_on)  
Перебираются все интервалы выключения (intervals_off)  
Затем переходим к следующему интервалу включения  
И снова перебираем все интервалы выключения  

```
1.  ON=2ms, OFF=10ms
2.  ON=2ms, OFF=20ms  
3.  ON=2ms, OFF=30ms
4.  ON=2ms, OFF=40ms
5.  ON=4ms, OFF=10ms  ← перешли к следующему ON
6.  ON=4ms, OFF=20ms
7.  ON=4ms, OFF=30ms
8.  ON=4ms, OFF=40ms
9.  ON=6ms, OFF=10ms  ← перешли к следующему ON
10. ON=6ms, OFF=20ms
11. ON=6ms, OFF=30ms
12. ON=6ms, OFF=40ms
13. Возврат к комбинации 1 (ON=2ms, OFF=10ms)
```

## Визуальная индикация
При смене режима:  
Количество миганий реле (500мс) = номер текущего интервала включения (ON)

Пример:  
1 мигание = первый интервал ON (2ms)  
2 мигания = второй интервал ON (4ms)  
3 мигания = третий интервал ON (6ms)  

## Serial монитор (отладка):
Откройте Serial монитор (9600 бод) для подробной информации:
```
-----------------------------------
Комбинация: 2 из 3 (ON) | 3 из 4 (OFF)
blinkInterval_on: 4 мс
blinkInterval_off: 30 мс
-----------------------------------
```
## Особенности работы
Цикличность:  
Всего 12 комбинаций (3 ON × 4 OFF)  
После последней комбинации система возвращается к первой  
Бесконечный цикл перебора  

Частота мигания:  
Быстрое мигание: ON=2ms + OFF=10ms (12ms полный цикл)  
Медленное мигание: ON=6ms + OFF=40ms (46ms полный цикл)  
Коэффициент заполнения: от 17% (2/12) до 13% (6/46)  

Защита от ложных срабатываний:  
Интервал между нажатиями кнопки - 500 мс  

## Советы по использованию
Для настройки - последовательно нажимайте кнопку до нужной комбинации  
Для поиска режима - используйте Serial монитор для отслеживания параметров  
Для визуального контроля - считайте количество миганий при смене режима  
Для постоянной работы - оставьте систему в нужном режиме, она будет работать автоматически  

## Примечания
Реле управляется по логике: HIGH - выкл, LOW - вкл (нормально-замкнутое)  
При изменении кода требуется перезагрузка Arduino  
Все временные параметры указаны в миллисекундах  
Система создает очень быстрое мигание (от 12ms до 46ms на полный цикл)  

